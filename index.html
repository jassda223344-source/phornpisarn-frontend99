<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>р╕Юр╕гр╕Юр╕┤р╕ир╕▓р╕е р╕Др╣Йр╕▓р╕кр╣Ир╕З | р╕гр╕░р╕Ър╕Ър╕Ър╕▒р╕Нр╕Кр╕╡</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-100">

<!-- LOGIN -->
<div id="loginPage" class="min-h-screen flex items-center justify-center">
  <div class="bg-white p-6 rounded-xl shadow w-80">
    <h2 class="text-xl font-bold text-center mb-4">ЁЯФР р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ</h2>
    <input id="username" placeholder="Username"
      class="w-full border p-2 mb-2 rounded">
    <input id="password" type="password" placeholder="Password"
      class="w-full border p-2 mb-4 rounded">
    <button onclick="login()"
      class="w-full bg-indigo-600 text-white py-2 rounded">
      р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
    </button>
  </div>
</div>

<!-- DASHBOARD -->
<div id="app" class="hidden min-h-screen flex">

  <!-- SIDEBAR -->
  <div class="w-56 bg-indigo-700 text-white p-4">
    <h3 class="font-bold mb-4">ЁЯУК р╕Юр╕гр╕Юр╕┤р╕ир╕▓р╕е р╕Др╣Йр╕▓р╕кр╣Ир╕З</h3>
    <button onclick="showPage('bill')" class="block w-full text-left py-2">ЁЯУД р╣Гр╕Ър╕зр╕▓р╕Зр╕Ър╕┤р╕е</button>
    <button onclick="showPage('income')" class="block w-full text-left py-2">ЁЯТ░ р╕гр╕▓р╕вр╕гр╕▒р╕Ъ</button>
    <button onclick="showPage('expense')" class="block w-full text-left py-2">ЁЯТ╕ р╕гр╕▓р╕вр╕Ир╣Ир╕▓р╕в</button>
    <button onclick="logout()" class="block w-full text-left py-2 text-red-300">ЁЯЪк р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ</button>
  </div>

  <!-- CONTENT -->
  <div class="flex-1 p-4">
    <div id="bill" class="page">
      <h2 class="text-xl font-bold mb-2">ЁЯУД р╣Гр╕Ър╕зр╕▓р╕Зр╕Ър╕┤р╕е</h2>
      <p> (р╕Вр╕▒р╣Йр╕Щр╕Цр╕▒р╕Фр╣Др╕Ыр╣Ар╕гр╕▓р╕Ир╕░р╣Гр╕кр╣Ир╕Яр╕нр╕гр╣Мр╕бр╕Ър╕┤р╕ер╕Хр╕гр╕Зр╕Щр╕╡р╣Й)</p>
    </div>

    <div id="income" class="page hidden">
      <h2 class="text-xl font-bold mb-2">ЁЯТ░ р╕гр╕▓р╕вр╕гр╕▒р╕Ъ</h2>
    </div>

    <div id="expense" class="page hidden">
      <h2 class="text-xl font-bold mb-2">ЁЯТ╕ р╕гр╕▓р╕вр╕Ир╣Ир╕▓р╕в</h2>
    </div>
  </div>
</div>

<script>
const BACKEND_URL = 'https://YOUR-BACKEND.onrender.com'; // ЁЯСИ р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Хр╕гр╕Зр╕Щр╕╡р╣Й

function login(){
  fetch(BACKEND_URL + '/login', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({
      username: username.value,
      password: password.value
    })
  })
  .then(res=>{
    if(!res.ok) throw 0;
    return res.json();
  })
  .then(data=>{
    localStorage.setItem('token', data.token);
    location.reload();
  })
  .catch(()=>alert('р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕лр╕гр╕╖р╕нр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З'));
}

function logout(){
  localStorage.removeItem('token');
  location.reload();
}

function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}

if(localStorage.getItem('token')){
  document.getElementById('loginPage').classList.add('hidden');
  document.getElementById('app').classList.remove('hidden');
}
</script>

</body>
</html>
